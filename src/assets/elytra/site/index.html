<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Elytra Programming Language</title>
    <link rel="icon" type="image/x-icon" href="/res/elytra-fi-tint.png">

    <link href="//cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">

    <script src="//cdnjs.cloudflare.com/ajax/libs/markdown-it/13.0.1/markdown-it.min.js"></script>

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/mono-blue.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>

    <link rel="stylesheet" href="/res/style.css">
</head>
<body>
<header>
    <a class="fw-bold text-black text-decoration-none fs-5" href="/">
        <img src="//elytra.dev/res/elytra-lg-tint.png" style="height: 29px;">
<!--        Elytra-->
    </a>

    <div class="float-end nav">
<!-- Get Started, Playground, Guides, Overview Introduction -->
        <a href="/docs/getting_started/hello_world">Get Started</a>
        <a href="/docs">Documentation</a>
        <a href="/download">Download</a>
    </div>
</header>

<div id="main" class="d-flex flex-row">
    <div id="navlist" class="my-4" style="/*overflow-y: scroll;*/ width: 15%; margin-right: 32px; ">

    </div>
    <script>
        function toggleNavPart(e) {
            let ls = e.parentNode.children[1];
            if (ls.style.display === "none") {
                ls.style.display = "block";
                e.innerHTML = e.innerHTML.replace("▾", "▴");
            } else {
                ls.style.display = "none";
                e.innerHTML = e.innerHTML.replace("▴", "▾");
            }
        }
        (function () {
            // Design Comment.
            let navs = {
                "Getting started+": {
                    "Hello world": "/docs/getting_started/hello_world",
                    "Playground": "/playground",
                    "Code samples": {
                        "Variables": "",
                        "Functions": "",
                        "Classes": ""
                    },
                    "Dev examples": {
                        "JSON": "",  // Configs
                        "XML": "",
                        "HTTP Server": "",  // Network
                        "WebSocket Server": "",
                        "MP3": "",  // Media
                        "ZIP": "",  //
                        "OpenGL": "",
                        "OpenAL": "",
                        "GLFW": ""
                    },
                },
                "Language+": {
                    "Tour": "/docs/lang/tour",
                    "Overview": "",
                    "Built-in Types": "/docs/lang/internal-types",
                    "Variables": "",
                    "Functions": "",
                    "Comments": "",
                    "SDK": {
                        "bin/elytra": "",
                        "elytra run": "",
                        "elytra build": "",
                        "elyrta init": "",
                        "elytra analysis/pub/test/stat": ""
                    },
                    "Specifications": {

                    },
                    "Macedure VM": ""
                },
                "Libraries+": {
                    "std::io::net": "",
                    "std::io::files": "",
                    "std::mth": "",
                    "std::util": "",
                    "stdx::glfw": "",
                    "stdx::opengl": "",
                    "stdx::openal": "",
                },
                "Resources+": {
                    "API references": "",
                    "Latest SDK": "/docs/sdk-latest.md",
                    "IDEs": "",
                    "Playground": "",
                    "Package site": "",
                    "Books": "",
                    "Blog": "",
                    "FAQ": "",
                    "About": ""
                },
                "- Eldrine Le Prismarine": "/~pris",
                "- Ethertia": "/ethertia"
            };
            function navHtml(navs) {
                let html = "";
                for (let key in navs) {
                    let val = navs[key];

                    if (typeof val === "string") {
                        html += `<span class="d-block my-1"><a href="${val}" class="non-link" style="font-size: 13px;">${key}</a></span>`;
                    } else {
                        let collapsed = true;
                        if (key.endsWith("+")) {
                            key = key.substr(0, key.length - 1);
                            collapsed = false;
                        }
                        html += "<div class='navlist-ls'>";
                        html +=   `<span class="my-1 d-block text-muted fs-small" style="cursor: default; padding-top: 2.5px;" onclick="toggleNavPart(this)">${key} ${collapsed ? "▾" : "▴"}</span>`;
                        html +=   `<div class="ms-2 mb-2" style="display: ${collapsed ? "none" : "block"}">`;
                        html +=     navHtml(val);
                        html +=   "</div>";
                        html += "</div>";
                    }

                }
                return html;
            }

            document.querySelector("#navlist").innerHTML = navHtml(navs);
        })();
    </script>

    <div id="content" class="" style="width: 65%">



    </div>
    <div id="ut-title-text-extract" class="d-none"></div>
    <script>

        var md = window.markdownit("default", {
            html: true,
            linkify: true,
            highlight: (str, lang) => {
                if (lang && hljs.getLanguage(lang)) {
                    try {
                        return hljs.highlight(str, { language: lang }).value;
                    } catch (__) {}
                }
                return ''; // use external default escaping
            }
        });
        function loadContent(mds) {
            mds = mds.trim();

            if (mds.startsWith("!FP")) {  // Fullsize page.
                mds = mds.substr(3);
                document.querySelector("#navlist").style.display = "none";
                document.querySelector("#content").style.width = "100%";
            } else {
                document.querySelector("#navlist").style.display = "block";
                document.querySelector("#content").style.width = "75%";
            }

            document.querySelector("#content").innerHTML = md.render(mds);


            let title = "Elytra Programming Language";
            if (mds.startsWith("# ")) {
                title = mds.substr(1, mds.indexOf("\n"));
                title = title+" - Elytra Programming Language";
            }
            let tte = document.querySelector("#ut-title-text-extract");
            tte.innerHTML = title; title = tte.innerText;  // to ignore xml tags.
            document.title = title
        }
        (function () {

            loadContent(`<?php
            $p = $_GET['p'];
            if ($p == "") $p = "/home.md";
            if (substr($p, 0, 1) == '/') { $p = substr($p, 1); }
            $n = strlen($p);
            if (substr($p, $n-3, $n) != '.md') { $p = $p . ".md"; }
            echo str_replace('`', '\\`', file_get_contents($p));
            ?>`);

            // let xhr = new XMLHttpRequest();
            // xhr.onreadystatechange = () => {
            //     if (xhr.readyState === 4 && xhr.status === 200) {
            //         loadContent(xhr.responseText);
            //     }
            // };
            // let pathurl = new URLSearchParams(window.location.search).get("p");
            // if (!pathurl.length) {
            //     pathurl = "404";
            // }
            // xhr.open("GET", pathurl, true);
            // xhr.send(null);
        })();
    </script>
</div>
<div style="display: none; position: fixed; bottom: 0; width: 100%;">
    <button onclick="loadContent(document.querySelector('#md-editor').value)" class="w-100">Apply</button><br>
    <textarea id="md-editor" style="width: 100%; height: 300px;"></textarea>
</div>
<script>
    if (window.location.href.includes('mde')) document.querySelector('#md-editor').parentElement.style.display = 'block';
</script>

<footer class="py-5">
    <div class="d-inline-block col-2">
<!--        <h4><b>Elytra</b></h4>-->
        <img src="/res/elytra-lg-tint.png" style="height: 29px;">
    </div>
    <div class="sitemaps d-inline-block">
        <div class="footer-col">
            <span>Community</span>
            <a>IRC Channel</a>
        </div>
        <div class="footer-col">
            <span>Development</span>
            <a>Blogs</a>
            <a>Version History</a>
        </div>
        <div class="footer-col">
            <span>About</span>
            <a>FAQ</a>
        </div>
    </div>

    <hr class="my-4">

    <div>
        <div class="footer-right-decls float-end text-muted fs-small">
            <a>Terms of Use</a>
            <a>Privacy & Security</a>
            <a>Legal</a>

            <div class="vr mx-3 align-top mt-1"></div>

            <div class="d-inline-block text-decoration-underline">
                <a>Sweden</a>
                <a style="margin-left: 18px;">English</a>
            </div>
        </div>

        <span class="text-muted fs-small">
            <span>Copyright © Ethertia, Elytra. Partial rights reserved.</span>
            <small class="d-block mt-2">
                Except as otherwise noted, this site is licensed under a Creative Commons Attribution 4.0 International License, and <br>
            code samples are licensed under the 3-Clause BSD License.
            </small>
        </span>

    </div>
</footer>

    <script async src="//platform.twitter.com/widgets.js"></script>

    <script src="//recordism.net/atag.js?s=6" async></script>
</body>
</html>

<!--  https://developer.apple.com/design/human-interface-guidelines/macos/overview/whats-new-in-macos/  -->
<!--  https://www.lwjgl.org/guide  -->